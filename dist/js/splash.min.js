!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Splash=t()}(this,function(){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");return!!e.className.match(n)}function s(e,t){for(var n=void 0,a=0;a<e.children.length;a+=1)if(l(e.children[a],t)){n=e.children[a];break}return n}function u(e){var t=document.body.getBoundingClientRect(),n=e.getBoundingClientRect();return{x:n.left-t.left,y:n.top-t.top}}function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("div");return n.className=t,n}var e=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();var n={attr:"data-splash-waves",cls:{base:"splash",wave:"splash-wave",waveOut:"splash-wave-out",waves:"splash-waves",wrap:"splash-wrap"}};return function(){function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.ts=Object.prototype.toString,this.$=document.querySelectorAll.bind(document);var t="[object Object]"!==this.ts.call(e)?{}:e;this.cfg=Object.assign({},n,t),this._addEventListeners(),this.active={}}return e(c,[{key:"_addEventListeners",value:function(){for(var t=this,e=this.$("."+this.cfg.cls.base),n=0;n<e.length;n+=1){var a=e[n];a.addEventListener("mouseenter",function(e){return t._startHover(e)},!1),a.addEventListener("mouseleave",function(e){return t._endHover(e)},!1)}}},{key:"_createWave",value:function(e){var t=a("div",this.cfg.cls.wave);s(e,this.cfg.cls.waves).appendChild(t);var n=Date.now();return this.active[n]=t,e.setAttribute(this.cfg.attr,n),t}},{key:"_endHover",value:function(e){e.stopPropagation();var t=e.currentTarget,n=u(t),a=s(t,this.cfg.cls.waves),r=t.getAttribute(this.cfg.attr),i=this.active[r];delete this.active[r],t.removeAttribute(this.cfg.attr),i.style.left=e.pageX-n.x+"px",i.style.top=e.pageY-n.y+"px",function(e,t){if(l(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}(i,this.cfg.cls.waveOut);var o=c._getDuration(i);setTimeout(function(){a.removeChild(i)},o)}},{key:"_isWrapped",value:function(e){return!!s(e,this.cfg.cls.waves)}},{key:"_normalize",value:function(e){return"string"==typeof e?this.$$(e):(t=e,n=Object.prototype.toString.call(t),t&&"object"===(void 0===t?"undefined":r(t))&&/^\[object (Array|HTMLCollection|NodeList|Object)\]$/.test(n)&&t.length?e:(a=e,("object"===("undefined"==typeof HTMLElement?"undefined":r(HTMLElement))?a instanceof HTMLElement:a&&"object"===(void 0===a?"undefined":r(a))&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName)?[e]:[]));var t,n,a}},{key:"_startHover",value:function(e){e.stopPropagation();var t=e.currentTarget,n=u(t);this._wrap(t);var a=this._createWave(t),r={left:e.pageX-n.x,top:e.pageY-n.y};a.style.left=r.left+"px",a.style.top=r.top+"px";var i,o,s=c._getWaveSize(t,r);a.style.width=2*s+"px",a.style.height=2*s+"px",i=a,o=this.cfg.cls.waveOut,l(i,o)||(i.className+=" "+o)}},{key:"_wrap",value:function(e){if(!this._isWrapped(e)){var t=a("div",this.cfg.cls.wrap);for(e.appendChild(t);e.firstChild!==t;)t.appendChild(e.firstChild);var n=a("div",this.cfg.cls.waves);e.insertBefore(n,t)}}}],[{key:"_getDuration",value:function(e){var t=window.getComputedStyle(e,null).getPropertyValue("transition-duration"),n=parseFloat(t);return n?t.endsWith("ms")?n:1e3*n:0}},{key:"_getWaveSize",value:function(e,t){var n=t.left<e.offsetWidth/2?e.offsetWidth:0,a=t.top<e.offsetHeight/2?e.offsetHeight:0,r=Math.abs(t.left-n),i=Math.abs(t.top-a);return Math.sqrt(r*r+i*i)}}]),c}()});
